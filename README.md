# –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ - Telegram Bot –ö—É—Ä–∞—Ç–æ—Ä

–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π OpenAI Assistant –∏ LightRAG –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –æ—Ç–≤–µ—Ç–æ–≤.

## üöÄ –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### RAG + OpenAI Pipeline
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ —Ö–µ–ª–ø"
2. **LightRAG** –∏—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
3. **OpenAI Assistant** –ø–æ–ª—É—á–∞–µ—Ç: –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + –Ω–∞–π–¥–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
4. **–û—Ç–≤–µ—Ç** —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ø—Ä–æ—Å–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è
- **–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ**: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ —Ö–µ–ª–ø" (—Ä–µ–≥–∏—Å—Ç—Ä –Ω–µ –≤–∞–∂–µ–Ω)
- **–ü—Ä–∏–º–µ—Ä—ã**: 
  - "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ —Ö–µ–ª–ø, —Ä–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ Python"
  - "–µ–∫–∞—Ç–µ—Ä–∏–Ω–∞ —Ö–µ–ª–ø –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker?"

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram Bot
    ‚Üì
–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
    ‚Üì
LightRAG API ‚Üê –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
    ‚Üì
–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    ‚Üì
OpenAI Assistant ‚Üê –∑–∞–ø—Ä–æ—Å + –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∏–ª–∏ null)
    ‚Üì
–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ bot.py                    # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py                 # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ handlers.py               # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å RAG+OpenAI
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ openai_service.py     # –°–µ—Ä–≤–∏—Å OpenAI Assistant
‚îÇ   ‚îî‚îÄ‚îÄ lightrag_service.py   # –°–µ—Ä–≤–∏—Å LightRAG API
‚îú‚îÄ‚îÄ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ venv/                     # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ README.md
```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   cd "/Users/max/Documents/CloudeCode/–ë–æ—Ç –∫—É—Ä–∞—Ç–æ—Ä"
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   source venv/bin/activate
   python bot.py
   ```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:
```env
# Telegram Bot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# OpenAI Assistant
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_ASSISTANT_ID=your_assistant_id_here

# LightRAG API
LIGHTRAG_BASE_URL=http://your_lightrag_server:8100
LIGHTRAG_API_KEY=your_lightrag_api_key_here

# Bot Settings
TRIGGER_KEYWORD=–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ —Ö–µ–ª–ø
```

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞
```
–í–æ–ø—Ä–æ—Å: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ —Ö–µ–ª–ø, —á—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?"
‚Üì
LightRAG: –ù–∞—Ö–æ–¥–∏—Ç —Å—Ç–∞—Ç—å–∏ –æ ML
‚Üì
OpenAI Assistant –ø–æ–ª—É—á–∞–µ—Ç:
"–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —á—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π: [–Ω–∞–π–¥–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è]"
‚Üì
–û—Ç–≤–µ—Ç: –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
```
–í–æ–ø—Ä–æ—Å: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ —Ö–µ–ª–ø, —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ö–ª–µ–± –≤ –ú–æ—Å–∫–≤–µ?"
‚Üì
LightRAG: –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
‚Üì
OpenAI Assistant –ø–æ–ª—É—á–∞–µ—Ç:
"–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ö–ª–µ–± –≤ –ú–æ—Å–∫–≤–µ?
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π: null"
‚Üì
–û—Ç–≤–µ—Ç: –û–±—â–∏–π –æ—Ç–≤–µ—Ç Assistant'–∞ –±–µ–∑ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –≤–µ–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–∏—Å–∫ –≤ LightRAG (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤—Ä–µ–º—è)
- –ó–∞–ø—Ä–æ—Å—ã –∫ OpenAI Assistant
- –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

## üéØ –ì–æ—Ç–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **Keyword Detection** - —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ —Ö–µ–ª–ø"  
‚úÖ **LightRAG Integration** - –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π  
‚úÖ **OpenAI Assistant** - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã  
‚úÖ **RAG Pipeline** - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö  
‚úÖ **Error Handling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API  
‚úÖ **Typing Indicators** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ø–µ—á–∞—Ç–∞–µ—Ç"  
‚úÖ **Comprehensive Logging** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  

## üöÄ –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!

–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–µ –∏–∑ LightRAG –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ OpenAI Assistant.